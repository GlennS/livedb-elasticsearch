A plan for what tests we should have.

* Delays
I current insert delays:
 1. After creating indexes.
 2. After inserting objects.

It's quite likely that these are breaking at the moment in production mode, so it would be useful to do a callback instead.

* Snapshots
** writeSnapshot
 + should work
 + should let me write the same version twice, or an older version

** getSnapshot
 + should return null
 + write a snapshot - it should be returned   

** bulkGetSnapshot
 + should return collection names
 + write a snapshot - it should be returned
